import { Tabs, Tab } from '@rspress/core/theme';
import CodemodDisclaimer from '../../components/codemod-disclaimer.mdx';

# Rspress

Deploy your Rspress documentation sites to Zephyr Cloud with lightning-fast builds powered by Rspack. Rspress is a React-based static site generator that combines the power of React with Markdown content creation.

:::info Prerequisites

- Finished our [Prerequisites](/getting-started/installation) setup guide
- Installed our [Chrome extension](https://chromewebstore.google.com/detail/zephyr-mission-control/liflhldchhinbaeplljlplhnbkdidedn)

:::

<CodemodDisclaimer />

## Installation

Install the Rspress plugin in your project:

<Tabs
  values={[
    { label: 'pnpm' },
    { label: 'bun' },
    { label: 'yarn' },
    { label: 'npm' },
  ]}
>
  <Tab>```bash pnpm add --dev zephyr-rspress-plugin ```</Tab>
  <Tab>```bash bun add --dev zephyr-rspress-plugin ```</Tab>
  <Tab>```bash yarn add --dev zephyr-rspress-plugin ```</Tab>
  <Tab>```bash npm install --save-dev zephyr-rspress-plugin ```</Tab>
</Tabs>

## Configuration

Add the Zephyr plugin to your Rspress configuration:

```typescript
// rspress.config.ts
import path from 'node:path';
import { defineConfig } from 'rspress/config';
import { withZephyr } from 'zephyr-rspress-plugin';

export default defineConfig({
  root: path.join(__dirname, 'docs'),
  outDir: './doc_build',
  ssg: true,
  builderPlugins: [],
  plugins: [withZephyr()],
});
```

## Project Structure

Rspress uses a content-driven architecture:

```
my-rspress-site/
├── docs/                    # Documentation content
│   ├── _meta.json          # Navigation configuration
│   ├── index.md            # Home page
│   ├── guide/              # Guide section
│   │   ├── _meta.json      # Section navigation
│   │   └── index.md        # Guide content
│   └── public/             # Static assets
├── rspress.config.ts       # Rspress configuration
└── package.json
```

## Development Workflow

Start your development server:

<Tabs
  values={[
    { label: 'pnpm' },
    { label: 'bun' },
    { label: 'yarn' },
    { label: 'npm' },
  ]}
>
  <Tab>```bash pnpm dev ```</Tab>
  <Tab>```bash bun run dev ```</Tab>
  <Tab>```bash yarn dev ```</Tab>
  <Tab>```bash npm run dev ```</Tab>
</Tabs>

Build for production:

<Tabs
  values={[
    { label: 'pnpm' },
    { label: 'bun' },
    { label: 'yarn' },
    { label: 'npm' },
  ]}
>
  <Tab>```bash pnpm build ```</Tab>
  <Tab>```bash bun run build ```</Tab>
  <Tab>```bash yarn build ```</Tab>
  <Tab>```bash npm run build ```</Tab>
</Tabs>

Preview production build:

<Tabs
  values={[
    { label: 'pnpm' },
    { label: 'bun' },
    { label: 'yarn' },
    { label: 'npm' },
  ]}
>
  <Tab>```bash pnpm preview ```</Tab>
  <Tab>```bash bun run preview ```</Tab>
  <Tab>```bash yarn preview ```</Tab>
  <Tab>```bash npm run preview ```</Tab>
</Tabs>

## Content Management

Write content in Markdown files within the `docs/` directory:

- **Pages**: Create `.md` files for individual pages
- **Navigation**: Use `_meta.json` files to configure navigation and page order
- **Assets**: Add static assets to `docs/public/` for images and other files
- **MDX Support**: Use React components within your Markdown content

## Configuration Options

Customize your Rspress site with additional configuration:

```typescript
export default defineConfig({
  root: path.join(__dirname, 'docs'),
  outDir: './doc_build',
  ssg: true,
  title: 'My Documentation',
  description: 'Documentation site built with Rspress',
  themeConfig: {
    nav: [
      { text: 'Home', link: '/' },
      { text: 'Guide', link: '/guide/' },
    ],
  },
  plugins: [withZephyr()],
});
```
